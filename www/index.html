<!DOCTYPE html>
<html>

<head>
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <title>QRCode Reader APP</title>
</head>

<body>
    <script type="text/javascript" src="cordova.js"></script>
    <script>
        document.addEventListener('deviceready', function () {

            var devicePlatform = device.platform;
            var deviceSerial;

            if (devicePlatform == 'Android') {
                deviceSerial = device.uuid;
            } else {
                deviceSerial = device.serial;
            };
            var _target = '_self';
            var remoteUrl = 'https://s3.amazonaws.com/barcode-scanner-app/index.html?' + new Date() + '&deviceId=' + deviceSerial + '&deviceType=' + devicePlatform;

            alert(remoteUrl);
            cordova.InAppBrowser.open(remoteUrl, _target, 'location=no, clearsessioncache=yes, toolbar=no');
        }, false);
    </script>
</body>

</html>